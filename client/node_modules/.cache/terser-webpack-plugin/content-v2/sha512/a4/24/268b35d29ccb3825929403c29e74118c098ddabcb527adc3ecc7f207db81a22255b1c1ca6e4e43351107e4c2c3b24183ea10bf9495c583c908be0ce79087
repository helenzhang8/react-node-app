{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{58:function(t,e,n){},59:function(t,e,n){},83:function(t,e,n){\"use strict\";n.r(e);var i=n(0),o=n.n(i),a=n(15),c=n.n(a),l=(n(58),n(21)),s=(n.p,n(59),n(36)),r=n(35),u=n(99),d=n(98),j=n(8);function p(t){var e=t.allLocations,n=t.setMarkerToDisplay,o=i.useState({longitude:e.length>0?parseFloat(e[0].latlon.split(\", \")[1]):-73.9361965,latitude:e.length>0?parseFloat(e[0].latlon.split(\", \")[0]):40.6780116,zoom:20}),a=Object(l.a)(o,2),c=a[0],p=a[1],h=Object(i.useState)({longitude:-73.9361965,latitude:40.6780116}),g=Object(l.a)(h,2),f=g[0],O=g[1];function x(t){switch(t){case!0:return Object(j.jsx)(\"p\",{children:\"\\ud83d\\ude98\"});case!1:return Object(j.jsx)(\"p\",{children:\"\\ud83c\\udd7f\\ufe0f\"})}}return Object(j.jsx)(u.a,{in:!0,timeout:1e3,children:Object(j.jsxs)(\"div\",{style:{position:\"fixed\",top:0,left:0,width:\"100vw\",height:\"100vh\",zIndex:1},children:[Object(j.jsxs)(r.b,Object(s.a)(Object(s.a)({mapboxApiAccessToken:\"pk.eyJ1IjoiYmxibGJsNDQiLCJhIjoiY2twcGY2OTN0MGZqazJ1cWpoM2h5eDl5NSJ9.5uYgki649OhuoI6Bw7R3ag\"},c),{},{width:\"100%\",height:\"100vh\",onViewportChange:p,mapStyle:\"mapbox://styles/blblbl44/ckpu5h6mz30ti17s9c9o19y8s\",children:[e.map((function(t){return Object(j.jsx)(b,{latitude:parseFloat(t.latlon.split(\", \")[0]),longitude:parseFloat(t.latlon.split(\", \")[1]),viewport:c,name:t._id,setMarkerToDisplay:n,icon:x(t.status),locationObject:t},t._id)})),Object(j.jsx)(b,{latitude:f.latitude,longitude:f.longitude,name:\"You Are Here\",viewport:c,setMarkerToDisplay:null})]})),Object(j.jsx)(d.a,{style:{position:\"fixed\",bottom:30,right:20,backgroundColor:\"green\",color:\"white\"},variant:\"contained\",\"aria-label\":\"add\",onClick:function(){navigator.geolocation.getCurrentPosition((function(t){console.log(t),p({longitude:t.coords.longitude,latitude:t.coords.latitude,zoom:20}),O({longitude:t.coords.longitude,latitude:t.coords.latitude})}))},children:\"Locate Me\"})]})})}function b(t){var e=i.useState(!1),n=Object(l.a)(e,2),o=n[0],a=n[1],c=t.longitude,s=t.latitude,u=(t.viewport,t.name,t.setMarkerToDisplay),d=t.icon,p=t.locationObject;return Object(j.jsx)(\"div\",{style:{transition:\"ease-in\"},children:Object(j.jsx)(r.a,{latitude:s,longitude:c,offsetLeft:-20,offsetTop:-10,children:Object(j.jsx)(\"div\",{onClick:function(){a(!o),u(p)},children:d})})})}var h=function(){var t=o.a.useState([]),e=Object(l.a)(t,2),n=e[0],i=e[1];return o.a.useEffect((function(){setTimeout((function(){fetch(\"/api\").then((function(t){return t.json()})).then((function(t){i(t.message)}))}),100)}),[]),Object(j.jsx)(\"div\",{className:\"App\",children:Object(j.jsx)(p,{allLocations:n,setMarkerToDisplay:null})})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),i(t),o(t),a(t),c(t)}))};c.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById(\"root\")),g()}},[[83,1,2]]]);","name":"static/js/main.ccdbe530.chunk.js","map":{"version":3,"sources":["static/js/main.ccdbe530.chunk.js"],"names":["this","push","58","module","exports","__webpack_require__","59","83","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","objectSpread2","p","esm","Fade","Button","jsx_runtime","Map","_ref","allLocations","setMarkerToDisplay","_React$useState","longitude","length","parseFloat","latlon","split","latitude","zoom","_React$useState2","Object","viewport","setViewport","_useState","_useState2","userLocation","setUserLocation","deduceIconType","locationObject","children","in","timeout","style","position","top","left","width","height","zIndex","mapboxApiAccessToken","onViewportChange","mapStyle","map","location","CustomMarker","name","_id","icon","status","bottom","right","backgroundColor","color","variant","aria-label","onClick","navigator","geolocation","getCurrentPosition","console","log","coords","props","_React$useState3","_React$useState4","showPopup","togglePopup","transition","offsetLeft","offsetTop","src_App","a","useState","data","setData","useEffect","setTimeout","fetch","then","res1","json","res2","message","className","src_reportWebVitals","onPerfEntry","Function","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.6ce24c58.svg\");\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/react-map-gl/dist/esm/index.js + 67 modules\nvar esm = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Fade/Fade.js + 4 modules\nvar Fade = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 34 modules\nvar Button = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/MapViewScratch.js\n// import PulsingDot from \"../assets/PulsingDot/PulsingDot\";\n// import {enums} from \"../utils/enums\";\n// import 'mapbox-gl/dist/mapbox-gl.css';\nvar token='pk.eyJ1IjoiYmxibGJsNDQiLCJhIjoiY2twcGY2OTN0MGZqazJ1cWpoM2h5eDl5NSJ9.5uYgki649OhuoI6Bw7R3ag';function Map(_ref){var allLocations=_ref.allLocations,setMarkerToDisplay=_ref.setMarkerToDisplay;// console.log(\"allLocations\", allLocations)\nvar _React$useState=react[\"useState\"]({longitude:allLocations.length>0?parseFloat(allLocations[0].latlon.split(\", \")[1]):-73.9361965,latitude:allLocations.length>0?parseFloat(allLocations[0].latlon.split(\", \")[0]):40.6780116,zoom:20}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),viewport=_React$useState2[0],setViewport=_React$useState2[1];var _useState=Object(react[\"useState\"])({longitude:-73.9361965,latitude:40.6780116}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userLocation=_useState2[0],setUserLocation=_useState2[1];function locateUser(){navigator.geolocation.getCurrentPosition(function(position){console.log(position);setViewport({longitude:position.coords.longitude,latitude:position.coords.latitude,zoom:20});setUserLocation({longitude:position.coords.longitude,latitude:position.coords.latitude});});}function deduceIconType(locationObject){switch(locationObject){case true:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\uD83D\\uDE98\"});case false:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\uD83C\\uDD7F\\uFE0F\"});}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Fade[\"a\" /* default */],{in:true,timeout:1000,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:\"fixed\",top:0,left:0,width:'100vw',height:'100vh',zIndex:1},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm[\"b\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({mapboxApiAccessToken:token},viewport),{},{width:\"100%\",height:'100vh',onViewportChange:setViewport,mapStyle:'mapbox://styles/blblbl44/ckpu5h6mz30ti17s9c9o19y8s',children:[allLocations.map(function(location){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CustomMarker,{latitude:parseFloat(location.latlon.split(\", \")[0]),longitude:parseFloat(location.latlon.split(\", \")[1]),viewport:viewport,name:location._id,setMarkerToDisplay:setMarkerToDisplay,icon:deduceIconType(location.status),locationObject:location},location._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CustomMarker,{latitude:userLocation.latitude,longitude:userLocation.longitude,name:\"You Are Here\",viewport:viewport// icon={<PulsingDot/>}\n,setMarkerToDisplay:null})]})),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{position:\"fixed\",bottom:30,right:20,backgroundColor:\"green\",color:\"white\"},variant:\"contained\",\"aria-label\":\"add\",onClick:function onClick(){return locateUser();},children:\"Locate Me\"})]})});}function CustomMarker(props){var _React$useState3=react[\"useState\"](false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),showPopup=_React$useState4[0],togglePopup=_React$useState4[1];var longitude=props.longitude,latitude=props.latitude,viewport=props.viewport,name=props.name,setMarkerToDisplay=props.setMarkerToDisplay,icon=props.icon,locationObject=props.locationObject;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{transition:\"ease-in\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"a\" /* Marker */],{latitude:latitude,longitude:longitude,offsetLeft:-20,offsetTop:-10,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:function onClick(){togglePopup(!showPopup);setMarkerToDisplay(locationObject);},children:icon})})});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _React$useState=react_default.a.useState([]),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];react_default.a.useEffect(function(){setTimeout(function(){fetch(\"/api\").then(function(res1){return res1.json();}).then(function(res2){setData(res2.message);});},100);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Map,{allLocations:data,setMarkerToDisplay:null})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 101)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[83,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/postcss-loader/src/index.js??postcss!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/index.css","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/postcss-loader/src/index.js??postcss!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/App.css","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/logo.svg","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/MapViewScratch.js","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/App.js","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/reportWebVitals.js","/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/index.js"],"names":["token","Map","allLocations","setMarkerToDisplay","React","longitude","length","parseFloat","latlon","split","latitude","zoom","viewport","setViewport","useState","userLocation","setUserLocation","locateUser","navigator","geolocation","getCurrentPosition","position","console","log","coords","deduceIconType","locationObject","top","left","width","height","zIndex","map","location","_id","status","bottom","right","backgroundColor","color","CustomMarker","props","showPopup","togglePopup","name","icon","transition","App","data","setData","useEffect","setTimeout","fetch","then","res1","json","res2","message","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;ACAe,8DAAuB,mCAAmC,E;;;;;;;;;;;;;;;;;;;;ACIzE;AACA;AACA;AAEA,GAAMA,MAAK,CAAG,4FAAd,CAGe,QAASC,IAAT,MAAiD,IAAnCC,aAAmC,MAAnCA,YAAmC,CAArBC,kBAAqB,MAArBA,kBAAqB,CAC5D;AACA,oBAAgCC,iBAAA,CAAe,CAC3CC,SAAS,CAAEH,YAAY,CAACI,MAAb,CAAsB,CAAtB,CAA0BC,UAAU,CAACL,YAAY,CAAC,CAAD,CAAZ,CAAgBM,MAAhB,CAAuBC,KAAvB,CAA6B,IAA7B,EAAmC,CAAnC,CAAD,CAApC,CAA8E,CAAC,UAD/C,CAE3CC,QAAQ,CAAER,YAAY,CAACI,MAAb,CAAsB,CAAtB,CAA0BC,UAAU,CAACL,YAAY,CAAC,CAAD,CAAZ,CAAgBM,MAAhB,CAAuBC,KAAvB,CAA6B,IAA7B,EAAmC,CAAnC,CAAD,CAApC,CAA8E,UAF7C,CAG3CE,IAAI,CAAE,EAHqC,CAAf,CAAhC,8EAAOC,QAAP,qBAAiBC,WAAjB,qBAMA,cAAwCC,yBAAQ,CAAC,CAC7CT,SAAS,CAAE,CAAC,UADiC,CAE7CK,QAAQ,CAAE,UAFmC,CAAD,CAAhD,kEAAOK,YAAP,eAAqBC,eAArB,eAKA,QAASC,WAAT,EAAsB,CAClBC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,SAAUC,QAAV,CAAoB,CACzDC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAR,WAAW,CAAC,CAACR,SAAS,CAAEgB,QAAQ,CAACG,MAAT,CAAgBnB,SAA5B,CAAuCK,QAAQ,CAAEW,QAAQ,CAACG,MAAT,CAAgBd,QAAjE,CAA2EC,IAAI,CAAE,EAAjF,CAAD,CAAX,CACAK,eAAe,CAAC,CAACX,SAAS,CAAEgB,QAAQ,CAACG,MAAT,CAAgBnB,SAA5B,CAAuCK,QAAQ,CAAEW,QAAQ,CAACG,MAAT,CAAgBd,QAAjE,CAAD,CAAf,CACH,CAJD,EAKH,CAED,QAASe,eAAT,CAAwBC,cAAxB,CAAwC,CACpC,OAAQA,cAAR,EACI,IAAK,KAAL,CACI,mBACI,yDADJ,CAGJ,IAAK,MAAL,CACI,mBACI,+DADJ,CANR,CAUH,CAED,mBACI,2BAAC,uBAAD,EAAM,EAAE,KAAR,CAAS,OAAO,CAAE,IAAlB,uBACI,mCAAK,KAAK,CAAE,CAACL,QAAQ,CAAE,OAAX,CAAoBM,GAAG,CAAE,CAAzB,CAA4BC,IAAI,CAAE,CAAlC,CAAqCC,KAAK,CAAE,OAA5C,CAAqDC,MAAM,CAAE,OAA7D,CAAsEC,MAAM,CAAE,CAA9E,CAAZ,wBAEI,4BAAC,sBAAD,oFAAY,oBAAoB,CAAE/B,KAAlC,EAA6CY,QAA7C,MAAuD,KAAK,CAAC,MAA7D,CAAoE,MAAM,CAAE,OAA5E,CACY,gBAAgB,CAAEC,WAD9B,CAEY,QAAQ,CAAE,oDAFtB,WAIKX,YAAY,CAAC8B,GAAb,CAAiB,SAAAC,QAAQ,CAAI,CAC1B,mBACI,2BAAC,YAAD,EAAiC,QAAQ,CAAE1B,UAAU,CAAC0B,QAAQ,CAACzB,MAAT,CAAgBC,KAAhB,CAAsB,IAAtB,EAA4B,CAA5B,CAAD,CAArD,CACc,SAAS,CAAEF,UAAU,CAAC0B,QAAQ,CAACzB,MAAT,CAAgBC,KAAhB,CAAsB,IAAtB,EAA4B,CAA5B,CAAD,CADnC,CACqE,QAAQ,CAAEG,QAD/E,CAEc,IAAI,CAAEqB,QAAQ,CAACC,GAF7B,CAEkC,kBAAkB,CAAE/B,kBAFtD,CAGc,IAAI,CAAEsB,cAAc,CAACQ,QAAQ,CAACE,MAAV,CAHlC,CAIc,cAAc,CAAEF,QAJ9B,EAAmBA,QAAQ,CAACC,GAA5B,CADJ,CAOH,CARA,CAJL,cAcI,2BAAC,YAAD,EACI,QAAQ,CAAEnB,YAAY,CAACL,QAD3B,CAEI,SAAS,CAAEK,YAAY,CAACV,SAF5B,CAGI,IAAI,CAAE,cAHV,CAII,QAAQ,CAAEO,QACV;AALJ,CAMI,kBAAkB,CAAE,IANxB,EAdJ,IAFJ,cA2BI,2BAAC,yBAAD,EAAQ,KAAK,CAAE,CACXS,QAAQ,CAAE,OADC,CAEXe,MAAM,CAAE,EAFG,CAGXC,KAAK,CAAE,EAHI,CAIXC,eAAe,CAAE,OAJN,CAKXC,KAAK,CAAE,OALI,CAAf,CAOQ,OAAO,CAAE,WAPjB,CAQQ,aAAW,KARnB,CASQ,OAAO,CAAE,yBAAMtB,WAAU,EAAhB,EATjB,uBA3BJ,GADJ,EADJ,CA4CH,CAED,QAASuB,aAAT,CAAsBC,KAAtB,CAA6B,CACzB,qBAAiCrC,iBAAA,CAAe,KAAf,CAAjC,+EAAOsC,SAAP,qBAAkBC,WAAlB,qBAEA,GAAOtC,UAAP,CAAwFoC,KAAxF,CAAOpC,SAAP,CAAkBK,QAAlB,CAAwF+B,KAAxF,CAAkB/B,QAAlB,CAA4BE,QAA5B,CAAwF6B,KAAxF,CAA4B7B,QAA5B,CAAsCgC,IAAtC,CAAwFH,KAAxF,CAAsCG,IAAtC,CAA4CzC,kBAA5C,CAAwFsC,KAAxF,CAA4CtC,kBAA5C,CAAgE0C,IAAhE,CAAwFJ,KAAxF,CAAgEI,IAAhE,CAAsEnB,cAAtE,CAAwFe,KAAxF,CAAsEf,cAAtE,CAEA,mBACI,kCAAK,KAAK,CAAE,CAACoB,UAAU,CAAE,SAAb,CAAZ,uBACI,2BAAC,qBAAD,EAAQ,QAAQ,CAAEpC,QAAlB,CAA4B,SAAS,CAAEL,SAAvC,CAAkD,UAAU,CAAE,CAAC,EAA/D,CAAmE,SAAS,CAAE,CAAC,EAA/E,uBACI,kCAAK,OAAO,CAAE,kBAAM,CAChBsC,WAAW,CAAC,CAACD,SAAF,CAAX,CACAvC,kBAAkB,CAACuB,cAAD,CAAlB,CACH,CAHD,UAGImB,IAHJ,EADJ,EADJ,EADJ,CA4BH,C;;ACvHD,QAASE,QAAT,EAAe,CACX,oBAAwB3C,eAAK,CAACU,QAAN,CAAe,EAAf,CAAxB,8EAAOkC,IAAP,qBAAaC,OAAb,qBAEA7C,eAAK,CAAC8C,SAAN,CAAgB,UAAM,CAClBC,UAAU,CAAC,UAAI,CACXC,KAAK,CAAC,MAAD,CAAL,CACKC,IADL,CACU,SAACC,IAAD,QAAUA,KAAI,CAACC,IAAL,EAAV,EADV,EAEKF,IAFL,CAEU,SAACG,IAAD,CAAU,CACZP,OAAO,CAACO,IAAI,CAACC,OAAN,CAAP,CAAsB,CAH9B,EAGiC,CAJ3B,CAI4B,GAJ5B,CAAV,CAKH,CAND,CAMG,EANH,EAQA,mBACI,kCAAK,SAAS,CAAC,KAAf,uBAII,2BAAC,GAAD,EAAK,YAAY,CAAET,IAAnB,CAAyB,kBAAkB,CAAE,IAA7C,EAJJ,EADJ,CAQH,CAEcD,mDAAf,E;;AC1BA,GAAMW,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,kFAAqBP,IAArB,CAA0B,cAAiD,IAA9CQ,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAX,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import * as React from 'react';\r\nimport ReactMapGL, {Marker} from 'react-map-gl';\r\nimport {useState} from \"react\";\r\nimport {Button, Fade} from \"@material-ui/core\";\r\n// import PulsingDot from \"../assets/PulsingDot/PulsingDot\";\r\n// import {enums} from \"../utils/enums\";\r\n// import 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nconst token = 'pk.eyJ1IjoiYmxibGJsNDQiLCJhIjoiY2twcGY2OTN0MGZqazJ1cWpoM2h5eDl5NSJ9.5uYgki649OhuoI6Bw7R3ag'\r\n\r\n\r\nexport default function Map({allLocations, setMarkerToDisplay}) {\r\n    // console.log(\"allLocations\", allLocations)\r\n    const [viewport, setViewport] = React.useState({\r\n        longitude: allLocations.length > 0 ? parseFloat(allLocations[0].latlon.split(\", \")[1]) : -73.9361965,\r\n        latitude: allLocations.length > 0 ? parseFloat(allLocations[0].latlon.split(\", \")[0]) : 40.6780116,\r\n        zoom: 20\r\n    });\r\n\r\n    const [userLocation, setUserLocation] = useState({\r\n        longitude: -73.9361965,\r\n        latitude: 40.6780116,\r\n    })\r\n\r\n    function locateUser() {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            console.log(position)\r\n            setViewport({longitude: position.coords.longitude, latitude: position.coords.latitude, zoom: 20})\r\n            setUserLocation({longitude: position.coords.longitude, latitude: position.coords.latitude})\r\n        });\r\n    }\r\n\r\n    function deduceIconType(locationObject) {\r\n        switch (locationObject) {\r\n            case true:\r\n                return (\r\n                    <p>🚘</p>\r\n                )\r\n            case false:\r\n                return (\r\n                    <p>🅿️</p>\r\n                )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fade in timeout={1000}>\r\n            <div style={{position: \"fixed\", top: 0, left: 0, width: '100vw', height: '100vh', zIndex: 1}}>\r\n\r\n                <ReactMapGL mapboxApiAccessToken={token} {...viewport} width=\"100%\" height={'100vh'}\r\n                            onViewportChange={setViewport}\r\n                            mapStyle={'mapbox://styles/blblbl44/ckpu5h6mz30ti17s9c9o19y8s'}\r\n                >\r\n                    {allLocations.map(location => {\r\n                        return (\r\n                            <CustomMarker key={location._id} latitude={parseFloat(location.latlon.split(\", \")[0])}\r\n                                          longitude={parseFloat(location.latlon.split(\", \")[1])} viewport={viewport}\r\n                                          name={location._id} setMarkerToDisplay={setMarkerToDisplay}\r\n                                          icon={deduceIconType(location.status)}\r\n                                          locationObject={location}\r\n                            />)\r\n                    })}\r\n\r\n                    <CustomMarker\r\n                        latitude={userLocation.latitude}\r\n                        longitude={userLocation.longitude}\r\n                        name={\"You Are Here\"}\r\n                        viewport={viewport}\r\n                        // icon={<PulsingDot/>}\r\n                        setMarkerToDisplay={null}\r\n                    />\r\n\r\n                </ReactMapGL>\r\n\r\n                <Button style={{\r\n                    position: \"fixed\",\r\n                    bottom: 30,\r\n                    right: 20,\r\n                    backgroundColor: \"green\",\r\n                    color: \"white\",\r\n                }}\r\n                        variant={\"contained\"}\r\n                        aria-label=\"add\"\r\n                        onClick={() => locateUser()}>\r\n                    Locate Me\r\n                </Button>\r\n            </div>\r\n        </Fade>\r\n    );\r\n}\r\n\r\nfunction CustomMarker(props) {\r\n    const [showPopup, togglePopup] = React.useState(false);\r\n\r\n    const {longitude, latitude, viewport, name, setMarkerToDisplay, icon, locationObject} = props;\r\n\r\n    return (\r\n        <div style={{transition: \"ease-in\"}}>\r\n            <Marker latitude={latitude} longitude={longitude} offsetLeft={-20} offsetTop={-10}>\r\n                <div onClick={() => {\r\n                    togglePopup(!showPopup)\r\n                    setMarkerToDisplay(locationObject)\r\n                }}>{icon}</div>\r\n            </Marker>\r\n            {/*// uncomment if we want to have a pop up when the marker is clicked*/}\r\n            {/*{showPopup && <Popup*/}\r\n            {/*    latitude={latitude} longitude={longitude}*/}\r\n            {/*    closeButton={true}*/}\r\n            {/*    closeOnClick={false}*/}\r\n            {/*    onClose={() => togglePopup(false)}*/}\r\n            {/*    anchor=\"top\">*/}\r\n            {/*    <Grid container alignContent={\"center\"} alignItems={\"center\"}>*/}\r\n            {/*        <Grid item xs={12}>*/}\r\n            {/*            <Typography><strong>{name}</strong></Typography>*/}\r\n            {/*        </Grid>*/}\r\n\r\n            {/*        <Grid item xs={12}>*/}\r\n            {/*            <Typography>category</Typography>*/}\r\n            {/*        </Grid>*/}\r\n\r\n            {/*    </Grid>*/}\r\n            {/*</Popup>}*/}\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport Map from './MapViewScratch.js';\n\nfunction App() {\n    const [data, setData] = React.useState([]);\n\n    React.useEffect(() => {\n        setTimeout(()=>{\n            fetch(\"/api\")\n                .then((res1) => res1.json())\n                .then((res2) => {\n                    setData(res2.message)});},100)\n    }, []);\n\n    return (\n        <div className=\"App\">\n            {/*<div>*/}\n            {/*    {data.map((d) => <li key={d._id}>{d._id},{d.latlon},{d.status.toString()}</li>)}*/}\n            {/*</div>*/}\n            <Map allLocations={data} setMarkerToDisplay={null}/>\n        </div>\n    );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}