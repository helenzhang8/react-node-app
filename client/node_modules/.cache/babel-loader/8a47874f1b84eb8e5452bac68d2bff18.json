{"ast":null,"code":"var _jsxFileName = \"/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/MapViewScratch.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport { useState } from \"react\";\nimport { Button, Fade } from \"@material-ui/core\"; // import PulsingDot from \"../assets/PulsingDot/PulsingDot\";\n// import {enums} from \"../utils/enums\";\n// import 'mapbox-gl/dist/mapbox-gl.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = 'pk.eyJ1IjoiYmxibGJsNDQiLCJhIjoiY2twcGY2OTN0MGZqazJ1cWpoM2h5eDl5NSJ9.5uYgki649OhuoI6Bw7R3ag';\nexport default function Map({\n  allLocations,\n  setMarkerToDisplay\n}) {\n  _s();\n\n  // console.log(\"allLocations\", allLocations)\n  const [viewport, setViewport] = React.useState({\n    longitude: allLocations.length > 0 ? allLocations[0].long : -73.9361965,\n    latitude: allLocations.length > 0 ? allLocations[0].lat : 40.6780116,\n    zoom: allLocations.length > 0 ? 15 : 13.5\n  });\n  const [userLocation, setUserLocation] = useState({\n    longitude: allLocations.length > 0 ? allLocations[0].long : -73.9361965,\n    latitude: allLocations.length > 0 ? allLocations[0].lat : 40.6780116\n  });\n\n  function locateUser() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      console.log(position);\n      setViewport({\n        longitude: position.coords.longitude,\n        latitude: position.coords.latitude,\n        zoom: 20\n      });\n      setUserLocation({\n        longitude: position.coords.longitude,\n        latitude: position.coords.latitude\n      });\n    });\n  }\n\n  function deduceIconType(locationObject) {\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      version: \"1.1\",\n      id: \"Layer_1\",\n      x: \"0px\",\n      y: \"0px\",\n      width: \"25px\",\n      height: \"30px\",\n      viewBox: \"0 0 612 792\",\n      enableBackground: \"new 0 0 612 792\",\n      children: /*#__PURE__*/_jsxDEV(\"g\", {\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"#ffc905\",\n          d: \"M224.406,241.443c4.163-133.214,135.712-182.337,165.686,0H224.406z M445.875,241.443\\r c-27.476-225.632-249.777-236.456-279.75,0h-62.444l-25.81,459.588l456.258,0.832l-26.643-460.421L445.875,241.443L445.875,241.443\\r z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this); // switch (locationObject.parent_loc_type.toLowerCase()) {\n    //     case enums.SHOPPING:\n    //         return (\n    //             <svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\"\n    //                  width=\"25px\" height=\"30px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\"\n    //             >\n    //                 <g>\n    //                     <path fill=\"#ffc905\" d=\"M224.406,241.443c4.163-133.214,135.712-182.337,165.686,0H224.406z M445.875,241.443\n    //                             c-27.476-225.632-249.777-236.456-279.75,0h-62.444l-25.81,459.588l456.258,0.832l-26.643-460.421L445.875,241.443L445.875,241.443\n    //                             z\"/>\n    //                 </g>\n    //             </svg>\n    //         )\n    //     case enums.RESTAURANT:\n    //         return (\n    //             <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n    //                  width=\"25px\" height=\"30px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\">\n    //                 <g>\n    //                     <path fill=\"#ff5252\" d=\"M306.133,100.5c163.146,0,295.367,132.222,295.367,295.633c0,111.429-61.846,208.729-153.015,259.112l-0.533-11.195v-0.8\n    //                     c-0.534-13.596-0.8-26.657-1.066-38.654c-1.065-38.12-2.398-79.972-0.799-118.093c0.799-17.861,9.863-22.926,23.992-35.188\n    //                     c13.86-11.995,18.66-18.661,21.06-37.588c2.666-19.46,0.267-35.455-1.6-54.381c-1.599-18.127-2.932-36.521-4.53-54.381\n    //                     c-2.934-35.455-7.465-73.842-8.798-109.297h-8.53c0.534,58.381-0.533,117.028,0,175.408c0,8.796,0.8,17.594-8.53,17.594\n    //                     c-9.33,0.267-8.53-7.998-8.53-16.528c0.266-58.113-1.065-118.625,0-176.207l-9.331-0.533v179.14\n    //                     c0.268,11.196-0.532,14.927-12.795,13.861c-5.864-8.264-4.266-7.463-4.266-19.727V195.667l-9.063-0.266v154.881\n    //                     c0,11.729,5.065,46.117-12.796,37.321c-5.864-2.933-3.999-11.463-3.999-19.994V195.401l-9.329,0.266\n    //                     c-1.868,37.055-18.661,187.937-15.196,216.994c0.801,7.998,2.666,15.995,6.133,22.393c3.199,5.864,24.259,24.791,29.857,29.056\n    //                     c14.394,10.93,9.597,57.847,9.597,79.173c-0.267,29.323-0.8,65.846-2.134,105.032l-0.8,21.859\n    //                     c-34.121,13.861-71.44,21.326-110.362,21.326c-25.59,0-50.649-3.2-74.107-9.331l-1.066-18.393v-0.8\n    //                     c-2.132-48.251-2.666-92.235-2.933-122.093c0-21.592-0.533-44.252,0.267-65.845c1.066-29.59,41.32-22.126,66.111-65.578\n    //                     c9.063-15.994,13.328-32.522,12.528-53.315c-1.333-38.387-19.459-94.368-40.786-123.425c-7.73-10.396-22.125-27.724-33.588-33.322\n    //                     c-8.53-3.999-18.393-5.065-27.99-2.933c-19.46,4.266-28.523,15.995-37.854,28.79c-8.797,12.529-17.061,25.591-24.259,41.585\n    //                     c-20.526,46.117-37.854,109.83-2.132,154.082c11.729,14.395,19.728,18.394,37.854,27.99c6.93,3.731,14.927,9.33,18.127,14.128\n    //                     c5.598,8.264,3.465,19.726,3.732,30.656c1.066,41.853,0,100.767-2.398,159.146l-0.267,2.133v2.932l-0.533,11.996l0,0v0.8\n    //                     C87.541,627.256,10.5,520.624,10.5,396.133C10.5,232.722,142.722,100.5,306.133,100.5z\"/>\n    //                 </g>\n    //             </svg>\n    //         )\n    //     case enums.CULTURE:\n    //         return (\n    //             <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\n    //                  x=\"0px\" y=\"0px\"\n    //                  width=\"612px\" height=\"792px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\"\n    //             >\n    //                 <title>Exhibition</title>\n    //                 <rect x=\"59.741\" y=\"529.875\" width=\"34.664\" height=\"137.461\"/>\n    //                 <path\n    //                     d=\"M94.405,488.192c0-9.572-7.76-17.333-17.332-17.333s-17.332,7.761-17.332,17.333v24.948h34.664V488.192z\"/>\n    //                 <rect x=\"505.593\" y=\"529.875\" width=\"34.664\" height=\"137.461\"/>\n    //                 <path d=\"M522.925,470.563c-9.607,0.035-17.368,7.852-17.334,17.459c0.001,0.057,0.001,0.114,0.002,0.171v24.948h34.664v-24.948\n    //                 c0.129-9.607-7.555-17.5-17.162-17.628C523.038,470.563,522.981,470.563,522.925,470.563z\"/>\n    //                 <path d=\"M488.858,520.313c0,23.906-18.911,47.019-53.249,64.811c-36.081,18.695-84.243,28.974-135.61,28.974\n    //                 s-99.529-10.279-135.613-28.979c-34.338-17.791-53.247-40.898-53.247-64.805H94.405c0,31.078,22.113,58.853,62.284,79.663\n    //                 c38.42,19.905,89.315,30.845,143.318,30.845c54.003,0,104.884-10.938,143.31-30.845c40.162-20.811,62.275-48.585,62.275-79.663\n    //                 H488.858z\"/>\n    //                 <path d=\"M112.335,328.613l84.963-56.154c19.258-13.121,44.854-12.007,62.899,2.737l60.339,50.366\n    //                 c11.304,9.348,27.198,10.763,39.976,3.56l127.151-69.308v-99.291H112.335V328.613z M337.678,179.922c24.813,0,45,19.464,45,43.39\n    //                 s-20.187,43.39-45,43.39s-45-19.463-45-43.39S312.864,179.922,337.678,179.922z\"/>\n    //                 <path d=\"M337.678,249.964c15.586,0,28.266-11.953,28.266-26.655c0-14.703-12.68-26.656-28.266-26.656s-28.266,11.953-28.266,26.656\n    //                 C309.412,238.011,322.092,249.964,337.678,249.964z\"/>\n    //                 <path d=\"M309.859,338.448l-60.34-50.367c-12.292-10.018-29.713-10.748-42.8-1.793l-0.133,0.09l-94.251,62.294v30.594h375.328\n    //                 V278.873l-119.07,64.905C349.8,354.332,326.446,352.212,309.859,338.448z\"/>\n    //                 <path d=\"M523.522,124.664H76.476v290.461h447.047V124.664z M504.397,387.633c0,4.621-3.746,8.367-8.367,8.367H103.968\n    //                 c-4.621,0-8.367-3.746-8.367-8.367V152.156c0-4.621,3.746-8.367,8.367-8.367H496.03c4.621,0,8.367,3.746,8.367,8.367V387.633z\"/>\n    //             </svg>\n    //\n    //         )\n    //     case enums.VIEWS: {\n    //         return (\n    //             <svg version=\"1.1\"\n    //                  id=\"Layer_1\"\n    //                  xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"612px\" height=\"792px\"\n    //                  viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\">\n    //                 <g>\n    //                     <path d=\"M140.757,102.941c-45.471,0.009-82.72,37.257-82.729,82.729c0.009,10.763,3.774,20.867,7.833,30.773\n    //                     c-13.895,17.638-25.874,37.448-25.89,60.177c0.023,18.132,7.956,34.696,17.143,50.164c-21.432,22.588-38.766,49.721-38.783,81.254\n    //                     c0.002,61.316,45.554,112.209,104.509,120.949v113.538H36.249c-0.574-0.027-1.148-0.027-1.722,0\n    //                     c-9.922,0.698-17.401,9.307-16.703,19.23c0.676,9.609,8.794,16.986,18.425,16.741h178.983H539.86h35.972\n    //                     c9.934,0.22,18.165-7.654,18.385-17.588c0.219-9.934-7.653-18.164-17.587-18.384c-0.267-0.007-0.533-0.007-0.798,0h-26.874\n    //                     l-29.017-38.783h13.139c9.934,0.22,18.165-7.654,18.385-17.588c0.219-9.934-7.655-18.164-17.589-18.384\n    //                     c-0.265-0.007-0.531-0.007-0.796,0h-40.083l-25.047-33.443h20.13c9.942,0,18.003-8.061,18.003-18.003\n    //                     c0-9.944-8.061-18.005-18.003-18.005H267.433c-0.62-0.031-1.242-0.031-1.862,0c-9.943,0.515-17.587,8.992-17.072,18.935\n    //                     c0.514,9.944,8.991,17.588,18.934,17.073l0,0h20.094l-25.012,33.443h-40.118c-0.62-0.032-1.242-0.032-1.862,0\n    //                     c-9.922,0.731-17.372,9.368-16.641,19.29c0.709,9.617,8.865,16.97,18.502,16.682h13.174l-29.017,38.783h-47.741V528.987\n    //                     c58.905-8.799,104.472-59.681,104.474-120.949c-0.025-31.542-17.439-58.67-38.888-81.254c9.199-15.465,17.108-32.028,17.143-50.164\n    //                     c-0.037-22.711-12-42.416-25.891-60.036c4.08-9.943,7.836-20.109,7.834-30.914C223.477,140.199,186.229,102.951,140.757,102.941\n    //                     L140.757,102.941z M332.353,534.327h90.668l25.047,33.443H307.341L332.353,534.327z M280.466,603.742h194.51l29.051,38.783H251.484\n    //                     L280.466,603.742z\"/>\n    //                 </g>\n    //                 <text transform=\"matrix(1 0 0 1 0 1709.75)\" font-family=\"'HelveticaNowText-Bold'\"\n    //                       font-size=\"361.4173\">Created by Larea\n    //                 </text>\n    //                 <text transform=\"matrix(1 0 0 1 0 2071.1875)\" font-family=\"'HelveticaNowText-Bold'\"\n    //                       font-size=\"361.4173\">from the Noun Project\n    //                 </text>\n    //             </svg>\n    //\n    //         )\n    //     }\n    // }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fade, {\n    in: true,\n    timeout: 4000,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(ReactMapGL, {\n        mapboxApiAccessToken: token,\n        ...viewport,\n        width: \"100%\",\n        height: '100vh',\n        onViewportChange: setViewport,\n        mapStyle: 'mapbox://styles/blblbl44/ckpu5h6mz30ti17s9c9o19y8s',\n        children: [allLocations.map(location => {\n          return /*#__PURE__*/_jsxDEV(CustomMarker, {\n            latitude: location.lat,\n            longitude: location.long,\n            viewport: viewport,\n            name: location.name_only,\n            setMarkerToDisplay: setMarkerToDisplay,\n            icon: deduceIconType(location),\n            locationObject: location\n          }, location.uid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(CustomMarker, {\n          latitude: userLocation.latitude,\n          longitude: userLocation.longitude,\n          name: \"You Are Here\",\n          viewport: viewport // icon={<PulsingDot/>}\n          ,\n          setMarkerToDisplay: null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          position: \"fixed\",\n          bottom: 30,\n          right: 20,\n          backgroundColor: \"green\",\n          color: \"white\"\n        },\n        variant: \"contained\",\n        \"aria-label\": \"add\",\n        onClick: () => locateUser(),\n        children: \"Locate Me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Map, \"MfHBHgIQ3SK03wsHSWd+bdACxNE=\");\n\n_c = Map;\n\nfunction CustomMarker(props) {\n  _s2();\n\n  const [showPopup, togglePopup] = React.useState(false);\n  const {\n    longitude,\n    latitude,\n    viewport,\n    name,\n    setMarkerToDisplay,\n    icon,\n    locationObject\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      transition: \"ease-in\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Marker, {\n      latitude: latitude,\n      longitude: longitude,\n      offsetLeft: -20,\n      offsetTop: -10,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          togglePopup(!showPopup);\n          setMarkerToDisplay(locationObject);\n        },\n        children: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(CustomMarker, \"wLsyBo4aUKLWiUgRoKSj9R3nuxI=\");\n\n_c2 = CustomMarker;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Map\");\n$RefreshReg$(_c2, \"CustomMarker\");","map":{"version":3,"sources":["/Users/helenzhang/Desktop/Summer 2021/Basil/react-node-app/client/src/MapViewScratch.js"],"names":["React","ReactMapGL","Marker","useState","Button","Fade","token","Map","allLocations","setMarkerToDisplay","viewport","setViewport","longitude","length","long","latitude","lat","zoom","userLocation","setUserLocation","locateUser","navigator","geolocation","getCurrentPosition","position","console","log","coords","deduceIconType","locationObject","top","left","width","height","zIndex","map","location","name_only","uid","bottom","right","backgroundColor","color","CustomMarker","props","showPopup","togglePopup","name","icon","transition"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,UAAP,IAAoBC,MAApB,QAAiC,cAAjC;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,SAAQC,MAAR,EAAgBC,IAAhB,QAA2B,mBAA3B,C,CACA;AACA;AACA;;;AAEA,MAAMC,KAAK,GAAG,4FAAd;AAGA,eAAe,SAASC,GAAT,CAAa;AAACC,EAAAA,YAAD;AAAeC,EAAAA;AAAf,CAAb,EAAiD;AAAA;;AAC5D;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,KAAK,CAACG,QAAN,CAAe;AAC3CS,IAAAA,SAAS,EAAEJ,YAAY,CAACK,MAAb,GAAsB,CAAtB,GAA0BL,YAAY,CAAC,CAAD,CAAZ,CAAgBM,IAA1C,GAAiD,CAAC,UADlB;AAE3CC,IAAAA,QAAQ,EAAEP,YAAY,CAACK,MAAb,GAAsB,CAAtB,GAA0BL,YAAY,CAAC,CAAD,CAAZ,CAAgBQ,GAA1C,GAAgD,UAFf;AAG3CC,IAAAA,IAAI,EAAET,YAAY,CAACK,MAAb,GAAsB,CAAtB,GAA0B,EAA1B,GAA+B;AAHM,GAAf,CAAhC;AAMA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAAC;AAC7CS,IAAAA,SAAS,EAAEJ,YAAY,CAACK,MAAb,GAAsB,CAAtB,GAA0BL,YAAY,CAAC,CAAD,CAAZ,CAAgBM,IAA1C,GAAiD,CAAC,UADhB;AAE7CC,IAAAA,QAAQ,EAAEP,YAAY,CAACK,MAAb,GAAsB,CAAtB,GAA0BL,YAAY,CAAC,CAAD,CAAZ,CAAgBQ,GAA1C,GAAgD;AAFb,GAAD,CAAhD;;AAKA,WAASI,UAAT,GAAsB;AAClBC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAAUC,QAAV,EAAoB;AACzDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAb,MAAAA,WAAW,CAAC;AAACC,QAAAA,SAAS,EAAEY,QAAQ,CAACG,MAAT,CAAgBf,SAA5B;AAAuCG,QAAAA,QAAQ,EAAES,QAAQ,CAACG,MAAT,CAAgBZ,QAAjE;AAA2EE,QAAAA,IAAI,EAAE;AAAjF,OAAD,CAAX;AACAE,MAAAA,eAAe,CAAC;AAACP,QAAAA,SAAS,EAAEY,QAAQ,CAACG,MAAT,CAAgBf,SAA5B;AAAuCG,QAAAA,QAAQ,EAAES,QAAQ,CAACG,MAAT,CAAgBZ;AAAjE,OAAD,CAAf;AACH,KAJD;AAKH;;AAED,WAASa,cAAT,CAAwBC,cAAxB,EAAwC;AACpC,wBACI;AAAK,MAAA,OAAO,EAAC,KAAb;AAAmB,MAAA,EAAE,EAAC,SAAtB;AAAgC,MAAA,CAAC,EAAC,KAAlC;AAAwC,MAAA,CAAC,EAAC,KAA1C;AACa,MAAA,KAAK,EAAC,MADnB;AAC0B,MAAA,MAAM,EAAC,MADjC;AACwC,MAAA,OAAO,EAAC,aADhD;AAC8D,MAAA,gBAAgB,EAAC,iBAD/E;AAAA,6BAGY;AAAA,+BACI;AAAM,UAAA,IAAI,EAAC,SAAX;AAAqB,UAAA,CAAC,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,YADJ,CADoC,CAYpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAED,sBACI,QAAC,IAAD;AAAM,IAAA,EAAE,MAAR;AAAS,IAAA,OAAO,EAAE,IAAlB;AAAA,2BACI;AAAK,MAAA,KAAK,EAAE;AAACL,QAAAA,QAAQ,EAAE,OAAX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","sourcesContent":["import * as React from 'react';\r\nimport ReactMapGL, {Marker} from 'react-map-gl';\r\nimport {useState} from \"react\";\r\nimport {Button, Fade} from \"@material-ui/core\";\r\n// import PulsingDot from \"../assets/PulsingDot/PulsingDot\";\r\n// import {enums} from \"../utils/enums\";\r\n// import 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nconst token = 'pk.eyJ1IjoiYmxibGJsNDQiLCJhIjoiY2twcGY2OTN0MGZqazJ1cWpoM2h5eDl5NSJ9.5uYgki649OhuoI6Bw7R3ag'\r\n\r\n\r\nexport default function Map({allLocations, setMarkerToDisplay}) {\r\n    // console.log(\"allLocations\", allLocations)\r\n    const [viewport, setViewport] = React.useState({\r\n        longitude: allLocations.length > 0 ? allLocations[0].long : -73.9361965,\r\n        latitude: allLocations.length > 0 ? allLocations[0].lat : 40.6780116,\r\n        zoom: allLocations.length > 0 ? 15 : 13.5\r\n    });\r\n\r\n    const [userLocation, setUserLocation] = useState({\r\n        longitude: allLocations.length > 0 ? allLocations[0].long : -73.9361965,\r\n        latitude: allLocations.length > 0 ? allLocations[0].lat : 40.6780116,\r\n    })\r\n\r\n    function locateUser() {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            console.log(position)\r\n            setViewport({longitude: position.coords.longitude, latitude: position.coords.latitude, zoom: 20})\r\n            setUserLocation({longitude: position.coords.longitude, latitude: position.coords.latitude})\r\n        });\r\n    }\r\n\r\n    function deduceIconType(locationObject) {\r\n        return(\r\n            <svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\"\r\n                         width=\"25px\" height=\"30px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\"\r\n                    >\r\n                        <g>\r\n                            <path fill=\"#ffc905\" d=\"M224.406,241.443c4.163-133.214,135.712-182.337,165.686,0H224.406z M445.875,241.443\r\n                                    c-27.476-225.632-249.777-236.456-279.75,0h-62.444l-25.81,459.588l456.258,0.832l-26.643-460.421L445.875,241.443L445.875,241.443\r\n                                    z\"/>\r\n                        </g>\r\n                    </svg>\r\n        )\r\n        // switch (locationObject.parent_loc_type.toLowerCase()) {\r\n        //     case enums.SHOPPING:\r\n        //         return (\r\n        //             <svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\"\r\n        //                  width=\"25px\" height=\"30px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\"\r\n        //             >\r\n        //                 <g>\r\n        //                     <path fill=\"#ffc905\" d=\"M224.406,241.443c4.163-133.214,135.712-182.337,165.686,0H224.406z M445.875,241.443\r\n        //                             c-27.476-225.632-249.777-236.456-279.75,0h-62.444l-25.81,459.588l456.258,0.832l-26.643-460.421L445.875,241.443L445.875,241.443\r\n        //                             z\"/>\r\n        //                 </g>\r\n        //             </svg>\r\n        //         )\r\n        //     case enums.RESTAURANT:\r\n        //         return (\r\n        //             <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\r\n        //                  width=\"25px\" height=\"30px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\">\r\n        //                 <g>\r\n        //                     <path fill=\"#ff5252\" d=\"M306.133,100.5c163.146,0,295.367,132.222,295.367,295.633c0,111.429-61.846,208.729-153.015,259.112l-0.533-11.195v-0.8\r\n        //                     c-0.534-13.596-0.8-26.657-1.066-38.654c-1.065-38.12-2.398-79.972-0.799-118.093c0.799-17.861,9.863-22.926,23.992-35.188\r\n        //                     c13.86-11.995,18.66-18.661,21.06-37.588c2.666-19.46,0.267-35.455-1.6-54.381c-1.599-18.127-2.932-36.521-4.53-54.381\r\n        //                     c-2.934-35.455-7.465-73.842-8.798-109.297h-8.53c0.534,58.381-0.533,117.028,0,175.408c0,8.796,0.8,17.594-8.53,17.594\r\n        //                     c-9.33,0.267-8.53-7.998-8.53-16.528c0.266-58.113-1.065-118.625,0-176.207l-9.331-0.533v179.14\r\n        //                     c0.268,11.196-0.532,14.927-12.795,13.861c-5.864-8.264-4.266-7.463-4.266-19.727V195.667l-9.063-0.266v154.881\r\n        //                     c0,11.729,5.065,46.117-12.796,37.321c-5.864-2.933-3.999-11.463-3.999-19.994V195.401l-9.329,0.266\r\n        //                     c-1.868,37.055-18.661,187.937-15.196,216.994c0.801,7.998,2.666,15.995,6.133,22.393c3.199,5.864,24.259,24.791,29.857,29.056\r\n        //                     c14.394,10.93,9.597,57.847,9.597,79.173c-0.267,29.323-0.8,65.846-2.134,105.032l-0.8,21.859\r\n        //                     c-34.121,13.861-71.44,21.326-110.362,21.326c-25.59,0-50.649-3.2-74.107-9.331l-1.066-18.393v-0.8\r\n        //                     c-2.132-48.251-2.666-92.235-2.933-122.093c0-21.592-0.533-44.252,0.267-65.845c1.066-29.59,41.32-22.126,66.111-65.578\r\n        //                     c9.063-15.994,13.328-32.522,12.528-53.315c-1.333-38.387-19.459-94.368-40.786-123.425c-7.73-10.396-22.125-27.724-33.588-33.322\r\n        //                     c-8.53-3.999-18.393-5.065-27.99-2.933c-19.46,4.266-28.523,15.995-37.854,28.79c-8.797,12.529-17.061,25.591-24.259,41.585\r\n        //                     c-20.526,46.117-37.854,109.83-2.132,154.082c11.729,14.395,19.728,18.394,37.854,27.99c6.93,3.731,14.927,9.33,18.127,14.128\r\n        //                     c5.598,8.264,3.465,19.726,3.732,30.656c1.066,41.853,0,100.767-2.398,159.146l-0.267,2.133v2.932l-0.533,11.996l0,0v0.8\r\n        //                     C87.541,627.256,10.5,520.624,10.5,396.133C10.5,232.722,142.722,100.5,306.133,100.5z\"/>\r\n        //                 </g>\r\n        //             </svg>\r\n        //         )\r\n        //     case enums.CULTURE:\r\n        //         return (\r\n        //             <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n        //                  x=\"0px\" y=\"0px\"\r\n        //                  width=\"612px\" height=\"792px\" viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\"\r\n        //             >\r\n        //                 <title>Exhibition</title>\r\n        //                 <rect x=\"59.741\" y=\"529.875\" width=\"34.664\" height=\"137.461\"/>\r\n        //                 <path\r\n        //                     d=\"M94.405,488.192c0-9.572-7.76-17.333-17.332-17.333s-17.332,7.761-17.332,17.333v24.948h34.664V488.192z\"/>\r\n        //                 <rect x=\"505.593\" y=\"529.875\" width=\"34.664\" height=\"137.461\"/>\r\n        //                 <path d=\"M522.925,470.563c-9.607,0.035-17.368,7.852-17.334,17.459c0.001,0.057,0.001,0.114,0.002,0.171v24.948h34.664v-24.948\r\n        //                 c0.129-9.607-7.555-17.5-17.162-17.628C523.038,470.563,522.981,470.563,522.925,470.563z\"/>\r\n        //                 <path d=\"M488.858,520.313c0,23.906-18.911,47.019-53.249,64.811c-36.081,18.695-84.243,28.974-135.61,28.974\r\n        //                 s-99.529-10.279-135.613-28.979c-34.338-17.791-53.247-40.898-53.247-64.805H94.405c0,31.078,22.113,58.853,62.284,79.663\r\n        //                 c38.42,19.905,89.315,30.845,143.318,30.845c54.003,0,104.884-10.938,143.31-30.845c40.162-20.811,62.275-48.585,62.275-79.663\r\n        //                 H488.858z\"/>\r\n        //                 <path d=\"M112.335,328.613l84.963-56.154c19.258-13.121,44.854-12.007,62.899,2.737l60.339,50.366\r\n        //                 c11.304,9.348,27.198,10.763,39.976,3.56l127.151-69.308v-99.291H112.335V328.613z M337.678,179.922c24.813,0,45,19.464,45,43.39\r\n        //                 s-20.187,43.39-45,43.39s-45-19.463-45-43.39S312.864,179.922,337.678,179.922z\"/>\r\n        //                 <path d=\"M337.678,249.964c15.586,0,28.266-11.953,28.266-26.655c0-14.703-12.68-26.656-28.266-26.656s-28.266,11.953-28.266,26.656\r\n        //                 C309.412,238.011,322.092,249.964,337.678,249.964z\"/>\r\n        //                 <path d=\"M309.859,338.448l-60.34-50.367c-12.292-10.018-29.713-10.748-42.8-1.793l-0.133,0.09l-94.251,62.294v30.594h375.328\r\n        //                 V278.873l-119.07,64.905C349.8,354.332,326.446,352.212,309.859,338.448z\"/>\r\n        //                 <path d=\"M523.522,124.664H76.476v290.461h447.047V124.664z M504.397,387.633c0,4.621-3.746,8.367-8.367,8.367H103.968\r\n        //                 c-4.621,0-8.367-3.746-8.367-8.367V152.156c0-4.621,3.746-8.367,8.367-8.367H496.03c4.621,0,8.367,3.746,8.367,8.367V387.633z\"/>\r\n        //             </svg>\r\n        //\r\n        //         )\r\n        //     case enums.VIEWS: {\r\n        //         return (\r\n        //             <svg version=\"1.1\"\r\n        //                  id=\"Layer_1\"\r\n        //                  xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"612px\" height=\"792px\"\r\n        //                  viewBox=\"0 0 612 792\" enableBackground=\"new 0 0 612 792\">\r\n        //                 <g>\r\n        //                     <path d=\"M140.757,102.941c-45.471,0.009-82.72,37.257-82.729,82.729c0.009,10.763,3.774,20.867,7.833,30.773\r\n        //                     c-13.895,17.638-25.874,37.448-25.89,60.177c0.023,18.132,7.956,34.696,17.143,50.164c-21.432,22.588-38.766,49.721-38.783,81.254\r\n        //                     c0.002,61.316,45.554,112.209,104.509,120.949v113.538H36.249c-0.574-0.027-1.148-0.027-1.722,0\r\n        //                     c-9.922,0.698-17.401,9.307-16.703,19.23c0.676,9.609,8.794,16.986,18.425,16.741h178.983H539.86h35.972\r\n        //                     c9.934,0.22,18.165-7.654,18.385-17.588c0.219-9.934-7.653-18.164-17.587-18.384c-0.267-0.007-0.533-0.007-0.798,0h-26.874\r\n        //                     l-29.017-38.783h13.139c9.934,0.22,18.165-7.654,18.385-17.588c0.219-9.934-7.655-18.164-17.589-18.384\r\n        //                     c-0.265-0.007-0.531-0.007-0.796,0h-40.083l-25.047-33.443h20.13c9.942,0,18.003-8.061,18.003-18.003\r\n        //                     c0-9.944-8.061-18.005-18.003-18.005H267.433c-0.62-0.031-1.242-0.031-1.862,0c-9.943,0.515-17.587,8.992-17.072,18.935\r\n        //                     c0.514,9.944,8.991,17.588,18.934,17.073l0,0h20.094l-25.012,33.443h-40.118c-0.62-0.032-1.242-0.032-1.862,0\r\n        //                     c-9.922,0.731-17.372,9.368-16.641,19.29c0.709,9.617,8.865,16.97,18.502,16.682h13.174l-29.017,38.783h-47.741V528.987\r\n        //                     c58.905-8.799,104.472-59.681,104.474-120.949c-0.025-31.542-17.439-58.67-38.888-81.254c9.199-15.465,17.108-32.028,17.143-50.164\r\n        //                     c-0.037-22.711-12-42.416-25.891-60.036c4.08-9.943,7.836-20.109,7.834-30.914C223.477,140.199,186.229,102.951,140.757,102.941\r\n        //                     L140.757,102.941z M332.353,534.327h90.668l25.047,33.443H307.341L332.353,534.327z M280.466,603.742h194.51l29.051,38.783H251.484\r\n        //                     L280.466,603.742z\"/>\r\n        //                 </g>\r\n        //                 <text transform=\"matrix(1 0 0 1 0 1709.75)\" font-family=\"'HelveticaNowText-Bold'\"\r\n        //                       font-size=\"361.4173\">Created by Larea\r\n        //                 </text>\r\n        //                 <text transform=\"matrix(1 0 0 1 0 2071.1875)\" font-family=\"'HelveticaNowText-Bold'\"\r\n        //                       font-size=\"361.4173\">from the Noun Project\r\n        //                 </text>\r\n        //             </svg>\r\n        //\r\n        //         )\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <Fade in timeout={4000}>\r\n            <div style={{position: \"fixed\", top: 0, left: 0, width: '100vw', height: '100vh', zIndex: 1}}>\r\n\r\n                <ReactMapGL mapboxApiAccessToken={token} {...viewport} width=\"100%\" height={'100vh'}\r\n                            onViewportChange={setViewport}\r\n                            mapStyle={'mapbox://styles/blblbl44/ckpu5h6mz30ti17s9c9o19y8s'}\r\n                >\r\n                    {allLocations.map(location => {\r\n                        return (\r\n                            <CustomMarker key={location.uid} latitude={location.lat}\r\n                                          longitude={location.long} viewport={viewport}\r\n                                          name={location.name_only} setMarkerToDisplay={setMarkerToDisplay}\r\n                                          icon={deduceIconType(location)}\r\n                                          locationObject={location}\r\n                            />)\r\n                    })}\r\n\r\n                    <CustomMarker\r\n                        latitude={userLocation.latitude}\r\n                        longitude={userLocation.longitude}\r\n                        name={\"You Are Here\"}\r\n                        viewport={viewport}\r\n                        // icon={<PulsingDot/>}\r\n                        setMarkerToDisplay={null}\r\n                    />\r\n\r\n                </ReactMapGL>\r\n\r\n                <Button style={{\r\n                    position: \"fixed\",\r\n                    bottom: 30,\r\n                    right: 20,\r\n                    backgroundColor: \"green\",\r\n                    color: \"white\",\r\n                }}\r\n                        variant={\"contained\"}\r\n                        aria-label=\"add\"\r\n                        onClick={() => locateUser()}>\r\n                    Locate Me\r\n                </Button>\r\n            </div>\r\n        </Fade>\r\n    );\r\n}\r\n\r\nfunction CustomMarker(props) {\r\n    const [showPopup, togglePopup] = React.useState(false);\r\n\r\n    const {longitude, latitude, viewport, name, setMarkerToDisplay, icon, locationObject} = props;\r\n\r\n    return (\r\n        <div style={{transition: \"ease-in\"}}>\r\n            <Marker latitude={latitude} longitude={longitude} offsetLeft={-20} offsetTop={-10}>\r\n                <div onClick={() => {\r\n                    togglePopup(!showPopup)\r\n                    setMarkerToDisplay(locationObject)\r\n                }}>{icon}</div>\r\n            </Marker>\r\n            {/*// uncomment if we want to have a pop up when the marker is clicked*/}\r\n            {/*{showPopup && <Popup*/}\r\n            {/*    latitude={latitude} longitude={longitude}*/}\r\n            {/*    closeButton={true}*/}\r\n            {/*    closeOnClick={false}*/}\r\n            {/*    onClose={() => togglePopup(false)}*/}\r\n            {/*    anchor=\"top\">*/}\r\n            {/*    <Grid container alignContent={\"center\"} alignItems={\"center\"}>*/}\r\n            {/*        <Grid item xs={12}>*/}\r\n            {/*            <Typography><strong>{name}</strong></Typography>*/}\r\n            {/*        </Grid>*/}\r\n\r\n            {/*        <Grid item xs={12}>*/}\r\n            {/*            <Typography>category</Typography>*/}\r\n            {/*        </Grid>*/}\r\n\r\n            {/*    </Grid>*/}\r\n            {/*</Popup>}*/}\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}